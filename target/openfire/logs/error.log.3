2016.07.07 13:51:09 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:11 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:14 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:17 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:17 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:51:20 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:20 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:23 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.getSize(OfflineMessageStore.java:383)
	at org.jivesoftware.openfire.OfflineMessageStrategy.underQuota(OfflineMessageStrategy.java:188)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:147)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:25 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:28 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:31 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:34 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:35 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:43 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.getSize(OfflineMessageStore.java:383)
	at org.jivesoftware.openfire.OfflineMessageStrategy.underQuota(OfflineMessageStrategy.java:188)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:147)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:46 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:46 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:49 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:49 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:54 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.getSize(OfflineMessageStore.java:383)
	at org.jivesoftware.openfire.OfflineMessageStrategy.underQuota(OfflineMessageStrategy.java:188)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:147)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:57 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:51:57 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:00 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:00 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:08 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:14 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:14 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:16 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:19 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:22 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:25 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:27 org.jivesoftware.openfire.pubsub.PubSubPersistenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.openfire.pubsub.PubSubPersistenceManager.purgeItems(PubSubPersistenceManager.java:1867)
	at org.jivesoftware.openfire.pubsub.PubSubPersistenceManager.access$000(PubSubPersistenceManager.java:62)
	at org.jivesoftware.openfire.pubsub.PubSubPersistenceManager$2.run(PubSubPersistenceManager.java:279)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:28 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:28 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:52:30 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:30 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:36 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:39 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:42 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:45 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:47 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:47 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:52:50 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:50 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:53 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:56 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:52:59 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:01 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:04 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:04 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:53:07 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:07 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:10 org.jivesoftware.openfire.spi.PresenceManagerImpl - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.deleteOfflinePresenceFromDB(PresenceManagerImpl.java:218)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.writeToDatabase(PresenceManagerImpl.java:274)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userUnavailable(PresenceManagerImpl.java:268)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:170)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.SessionManager$ClientSessionListener.onConnectionClose(SessionManager.java:1242)
	at org.jivesoftware.openfire.nio.NIOConnection.notifyCloseListeners(NIOConnection.java:292)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:275)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliverRawText(NIOConnection.java:396)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:246)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliver(NIOConnection.java:353)
	at org.jivesoftware.openfire.session.LocalClientSession.deliver(LocalClientSession.java:857)
	at org.jivesoftware.openfire.session.LocalSession.process(LocalSession.java:289)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:90)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:13 org.jivesoftware.openfire.spi.PresenceManagerImpl - Error storing offline presence of user: shijie
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.writeToDatabase(PresenceManagerImpl.java:280)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userUnavailable(PresenceManagerImpl.java:268)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:170)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.SessionManager$ClientSessionListener.onConnectionClose(SessionManager.java:1242)
	at org.jivesoftware.openfire.nio.NIOConnection.notifyCloseListeners(NIOConnection.java:292)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:275)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliverRawText(NIOConnection.java:396)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:246)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliver(NIOConnection.java:353)
	at org.jivesoftware.openfire.session.LocalClientSession.deliver(LocalClientSession.java:857)
	at org.jivesoftware.openfire.session.LocalSession.process(LocalSession.java:289)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:90)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:18 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:21 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:24 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:25 org.jivesoftware.openfire.lockout.DefaultLockOutProvider - Error loading lockout information from DB
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.lockout.DefaultLockOutProvider.getDisabledStatus(DefaultLockOutProvider.java:68)
	at org.jivesoftware.openfire.lockout.LockOutManager.getUserLockOut(LockOutManager.java:247)
	at org.jivesoftware.openfire.lockout.LockOutManager.getDisabledStatus(LockOutManager.java:148)
	at org.jivesoftware.openfire.lockout.LockOutManager.isAccountDisabled(LockOutManager.java:159)
	at org.jivesoftware.openfire.net.SASLAuthentication.authenticationSuccessful(SASLAuthentication.java:712)
	at org.jivesoftware.openfire.net.SASLAuthentication.handle(SASLAuthentication.java:363)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:176)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:27 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:28 org.jivesoftware.openfire.OfflineMessageStore - Error retrieving offline messages of username: shijie
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.getMessages(OfflineMessageStore.java:192)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.initSession(PresenceUpdateHandler.java:261)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:153)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.net.StanzaHandler.processPresence(StanzaHandler.java:348)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processPresence(ClientStanzaHandler.java:100)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:265)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:29 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:30 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:53:31 org.jivesoftware.openfire.spi.PresenceManagerImpl - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.deleteOfflinePresenceFromDB(PresenceManagerImpl.java:218)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userAvailable(PresenceManagerImpl.java:206)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:159)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.net.StanzaHandler.processPresence(StanzaHandler.java:348)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processPresence(ClientStanzaHandler.java:100)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:265)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:32 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:32 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:34 org.jivesoftware.openfire.spi.PresenceManagerImpl - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.deleteOfflinePresenceFromDB(PresenceManagerImpl.java:218)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userAvailable(PresenceManagerImpl.java:206)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:159)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.net.StanzaHandler.processPresence(StanzaHandler.java:348)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processPresence(ClientStanzaHandler.java:100)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:265)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:35 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:38 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:41 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:44 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:46 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:46 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:53:49 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:49 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:52 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:55 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:53:58 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:01 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:04 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:04 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:54:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:08 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:11 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:11 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:13 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:14 org.jivesoftware.openfire.spi.PresenceManagerImpl - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.deleteOfflinePresenceFromDB(PresenceManagerImpl.java:218)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.writeToDatabase(PresenceManagerImpl.java:274)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userUnavailable(PresenceManagerImpl.java:268)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:170)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.SessionManager$ClientSessionListener.onConnectionClose(SessionManager.java:1242)
	at org.jivesoftware.openfire.nio.NIOConnection.notifyCloseListeners(NIOConnection.java:292)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:275)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliverRawText(NIOConnection.java:396)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:246)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliver(NIOConnection.java:353)
	at org.jivesoftware.openfire.session.LocalClientSession.deliver(LocalClientSession.java:857)
	at org.jivesoftware.openfire.session.LocalSession.process(LocalSession.java:289)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:90)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:16 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:17 org.jivesoftware.openfire.spi.PresenceManagerImpl - Error storing offline presence of user: shijie
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.writeToDatabase(PresenceManagerImpl.java:280)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userUnavailable(PresenceManagerImpl.java:268)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:170)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.SessionManager$ClientSessionListener.onConnectionClose(SessionManager.java:1242)
	at org.jivesoftware.openfire.nio.NIOConnection.notifyCloseListeners(NIOConnection.java:292)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:275)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliverRawText(NIOConnection.java:396)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:246)
	at org.jivesoftware.openfire.nio.NIOConnection.close(NIOConnection.java:224)
	at org.jivesoftware.openfire.nio.NIOConnection.deliver(NIOConnection.java:353)
	at org.jivesoftware.openfire.session.LocalClientSession.deliver(LocalClientSession.java:857)
	at org.jivesoftware.openfire.session.LocalSession.process(LocalSession.java:289)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:90)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:19 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:19 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:54:22 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:22 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:25 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:28 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:31 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:33 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:34 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:54:36 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:36 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:36 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:39 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:42 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:45 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:48 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:48 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:54:50 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:50 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:50 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:53 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:56 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:54:59 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:02 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:02 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:55:05 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:05 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:07 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:10 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:13 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:16 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:16 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:55:16 org.jivesoftware.openfire.lockout.DefaultLockOutProvider - Error loading lockout information from DB
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.lockout.DefaultLockOutProvider.getDisabledStatus(DefaultLockOutProvider.java:68)
	at org.jivesoftware.openfire.lockout.LockOutManager.getUserLockOut(LockOutManager.java:247)
	at org.jivesoftware.openfire.lockout.LockOutManager.getDisabledStatus(LockOutManager.java:148)
	at org.jivesoftware.openfire.lockout.LockOutManager.isAccountDisabled(LockOutManager.java:159)
	at org.jivesoftware.openfire.net.SASLAuthentication.authenticationSuccessful(SASLAuthentication.java:712)
	at org.jivesoftware.openfire.net.SASLAuthentication.handle(SASLAuthentication.java:363)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:176)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:19 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:19 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:19 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:20 org.jivesoftware.openfire.OfflineMessageStore - Error retrieving offline messages of username: shijie
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.getMessages(OfflineMessageStore.java:192)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.initSession(PresenceUpdateHandler.java:261)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:153)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.net.StanzaHandler.processPresence(StanzaHandler.java:348)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processPresence(ClientStanzaHandler.java:100)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:265)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:22 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:23 org.jivesoftware.openfire.spi.PresenceManagerImpl - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.deleteOfflinePresenceFromDB(PresenceManagerImpl.java:218)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userAvailable(PresenceManagerImpl.java:206)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:159)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.net.StanzaHandler.processPresence(StanzaHandler.java:348)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processPresence(ClientStanzaHandler.java:100)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:265)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:24 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:25 org.jivesoftware.openfire.spi.PresenceManagerImpl - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.deleteOfflinePresenceFromDB(PresenceManagerImpl.java:218)
	at org.jivesoftware.openfire.spi.PresenceManagerImpl.userAvailable(PresenceManagerImpl.java:206)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:159)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:137)
	at org.jivesoftware.openfire.handler.PresenceUpdateHandler.process(PresenceUpdateHandler.java:201)
	at org.jivesoftware.openfire.PresenceRouter.handle(PresenceRouter.java:148)
	at org.jivesoftware.openfire.PresenceRouter.route(PresenceRouter.java:84)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:84)
	at org.jivesoftware.openfire.net.StanzaHandler.processPresence(StanzaHandler.java:348)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processPresence(ClientStanzaHandler.java:100)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:265)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:27 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:30 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:30 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:55:33 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:33 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:33 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:36 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:39 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:41 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:44 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:44 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:55:47 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:47 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:50 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:53 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:56 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:58 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:55:59 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:56:01 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:01 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:02 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:04 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:07 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:10 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:13 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:13 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:56:15 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:15 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:18 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:21 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:24 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:27 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:27 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:56:30 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:30 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:32 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:35 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:38 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:41 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:41 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:56:44 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:44 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:48 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:50 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:53 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:56 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:56:59 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:02 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:02 org.jivesoftware.database.SequenceManager - Failed at last attempt to obtain an ID, aborting...
2016.07.07 13:57:05 org.jivesoftware.openfire.OfflineMessageStore - 内部服务器错误
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:149)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:05 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: java.lang.Long cannot be cast to [B
	at redis.clients.jedis.Connection.getBinaryBulkReply(Connection.java:207)
	at redis.clients.jedis.Connection.getBulkReply(Connection.java:196)
	at redis.clients.jedis.Jedis.hget(Jedis.java:606)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:108)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:07 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:10 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:13 org.jivesoftware.database.SequenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:197)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.getNextBlock(SequenceManager.java:249)
	at org.jivesoftware.database.SequenceManager.nextUniqueID(SequenceManager.java:167)
	at org.jivesoftware.database.SequenceManager.nextID(SequenceManager.java:85)
	at org.jivesoftware.openfire.OfflineMessageStore.addMessage(OfflineMessageStore.java:141)
	at org.jivesoftware.openfire.OfflineMessageStrategy.store(OfflineMessageStrategy.java:192)
	at org.jivesoftware.openfire.OfflineMessageStrategy.storeOffline(OfflineMessageStrategy.java:148)
	at org.jivesoftware.openfire.MessageRouter.routingFailed(MessageRouter.java:262)
	at org.jivesoftware.openfire.spi.RoutingTableImpl.routePacket(RoutingTableImpl.java:267)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:97)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
java.lang.ClassCastException: [B cannot be cast to java.lang.Long
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisDataException: ERR Protocol error: expected '$', got ' '
	at redis.clients.jedis.Protocol.processError(Protocol.java:117)
	at redis.clients.jedis.Protocol.process(Protocol.java:142)
	at redis.clients.jedis.Protocol.read(Protocol.java:196)
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:288)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:213)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:95)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:15 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:107)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:18 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:18 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:20 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:20 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:20 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:23 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:23 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:23 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:26 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:26 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:26 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:27 org.jivesoftware.openfire.pubsub.PubSubPersistenceManager - ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
java.sql.SQLException: ConnectionManager.getConnection() failed to obtain a connection after 11 retries. The exception from the last attempt is as follows: java.sql.SQLException: Couldn't get connection because we are at maximum connection count (25/25) and there are none available
	at org.jivesoftware.database.DbConnectionManager.getConnection(DbConnectionManager.java:152)
	at org.jivesoftware.database.DbConnectionManager.getTransactionConnection(DbConnectionManager.java:165)
	at org.jivesoftware.openfire.pubsub.PubSubPersistenceManager.purgeItems(PubSubPersistenceManager.java:1867)
	at org.jivesoftware.openfire.pubsub.PubSubPersistenceManager.access$000(PubSubPersistenceManager.java:62)
	at org.jivesoftware.openfire.pubsub.PubSubPersistenceManager$2.run(PubSubPersistenceManager.java:279)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
2016.07.07 13:57:29 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:29 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:29 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:32 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:32 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:32 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:34 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:34 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:37 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:39 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:40 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:41 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:43 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:44 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:47 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:48 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:50 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:51 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:54 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:55 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:56 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:58 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:57:59 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:01 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:02 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:03 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:05 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:06 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:07 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:10 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:13 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:16 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:19 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:22 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:25 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:28 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:31 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:34 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:36 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:39 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:42 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
2016.07.07 13:58:45 org.jivesoftware.openfire.handler.IQHandler - 内部服务器错误
redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: 断开的管道
	at redis.clients.jedis.Connection.flush(Connection.java:282)
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:211)
	at redis.clients.jedis.Jedis.hset(Jedis.java:590)
	at com.msn.hybrid.AskOnlineIQHandler.handleIQ(AskOnlineIQHandler.java:74)
	at org.jivesoftware.openfire.handler.IQHandler.process(IQHandler.java:65)
	at org.jivesoftware.openfire.IQRouter.handle(IQRouter.java:380)
	at org.jivesoftware.openfire.IQRouter.route(IQRouter.java:123)
	at org.jivesoftware.openfire.spi.PacketRouterImpl.route(PacketRouterImpl.java:76)
	at org.jivesoftware.openfire.net.StanzaHandler.processIQ(StanzaHandler.java:330)
	at org.jivesoftware.openfire.net.ClientStanzaHandler.processIQ(ClientStanzaHandler.java:93)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:295)
	at org.jivesoftware.openfire.net.StanzaHandler.process(StanzaHandler.java:187)
	at org.jivesoftware.openfire.nio.ConnectionHandler.messageReceived(ConnectionHandler.java:177)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:690)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:407)
	at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:236)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:417)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1200(DefaultIoFilterChain.java:47)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:765)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:769)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:761)
	at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:703)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: 断开的管道
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:113)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:159)
	at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:31)
	at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:213)
	at redis.clients.jedis.Connection.flush(Connection.java:279)
	... 31 more
